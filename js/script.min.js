const search = document.querySelector(".search-button"), modal = document.querySelector(".search-form"), form = document.querySelector("form"), beginDate = document.querySelector("[name=beginDate]"), endDate = document.querySelector("[name=endDate]"), people = document.querySelector("[name=people]"), kids = document.querySelector("[name=kids]"), peopleCount = localStorage.getItem("people"), kidsCount = localStorage.getItem("kids"); peopleCount && (people.value = peopleCount), kidsCount && (kids.value = kidsCount), search.addEventListener("click", function (e) { e.preventDefault(), modal.classList.toggle("search-form-show") }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && modal.classList.contains("search-form-show") && modal.classList.remove("search-form-show") }), form.addEventListener("submit", function (e) { modal.classList.remove("modal-error"), beginDate.value && endDate.value || (e.preventDefault(), setTimeout(() => { modal.classList.add("modal-error") }, 0)), people.value && localStorage.setItem("people", people.value), kids.value && localStorage.setItem("kids", kids.value) });
